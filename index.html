<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Army Of Morr</title>
    <script src="//cdn.jsdelivr.net/npm/phaser@3.55.2/dist/phaser.js"></script>
</head>
<body>
    <!-- Game code -->
    <script>
        var config = {
            type: Phaser.AUTO,
            width: 640,
            height: 1200,
            physics: {
                default: 'arcade',
                arcade: {
                    gravity: { y: 0 },
                    debug: true,
                }
            },
            scene: {
                preload: preload,
                create: create,
                update: update
            }
        };
    
        var game = new Phaser.Game(config)
        var player, cursors

        //Preload
        function preload (){
            //Player
            this.load.image('player', './img/player.png')

            //Enemy
            this.load.image('enemy-1', './img/enemy-1.png')

            //Misc
            this.load.image('map', './img/map.png')
        }
    
        //Creates element
        function create (){
            //Variables for screen centre
            const screenCenterX = this.cameras.main.worldView.x + this.cameras.main.width / 2;
            const screenCenterY = this.cameras.main.worldView.y + this.cameras.main.height / 2;

            //Background image
            this.add.image(375, 812, 'map')

            //Player srite
            player = this.physics.add.sprite(screenCenterX, screenCenterY, 'player')

            //Enemy sprites
            enemy = this.physics.add.sprite(100, 100, 'enemy-1')

            //Keyboard keys
            cursors = this.input.keyboard.createCursorKeys()
        }
        
        //Updated elemen
        function update (){

            //Player movement wihth keyboard
            if (cursors.left.isDown) {
                player.setVelocityX(-160)
            }
            else if (cursors.right.isDown) {
                player.setVelocityX(160)
            }
            else if (cursors.up.isDown) {
                player.setVelocityY(-160)
            }
            else if (cursors.down.isDown) {
                player.setVelocityY(160)
            }
            else {
                player.setVelocityX(0)
                player.setVelocityY(0)
            }

        }
    </script>

    <!-- Styles that center the canvas and set scaling ot 0.5 -->
    <style>
        body{
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }
        canvas{
            transform: scale(0.5);
        }
    </style>
</body>
</html>